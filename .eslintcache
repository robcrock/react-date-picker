[{"/Users/robcrock/Documents/dev/github/tableau/date-picker/src/App.js":"1","/Users/robcrock/Documents/dev/github/tableau/date-picker/src/components/Viz.js":"2","/Users/robcrock/Documents/dev/github/tableau/date-picker/src/index.js":"3"},{"size":1394,"mtime":1607219632258,"results":"4","hashOfConfig":"5"},{"size":2989,"mtime":1607219169434,"results":"6","hashOfConfig":"5"},{"size":238,"mtime":1606917775551,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1eawa8g",{"filePath":"10","messages":"11","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12","usedDeprecatedRules":"13"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"13"},"/Users/robcrock/Documents/dev/github/tableau/date-picker/src/App.js",[],"/Users/robcrock/Documents/dev/github/tableau/date-picker/src/components/Viz.js",["16","17","18"],"import { useState, useRef, useEffect } from \"react\"\nimport moment from \"moment\"\n\nconst { tableau } = window\n\nexport default function Viz({ startDate, endDate, setStartDate, setEndDate }) {\n  const [viz, setViz] = useState(null)\n\n  // Set up the arguments to pass into the Tableau Viz function\n  const ref = useRef(null)\n  const url =\n    \"https://10ax.online.tableau.com/t/developmentonlydev595736/views/DatePicker/Dashboard\"\n  const options = {\n    hideTabs: true,\n    hideToolbar: true,\n    width: \"900px\",\n    height: \"540px\",\n    onFirstInteractive: function() {\n      // The viz is now ready and can be safely used.\n      // To prove that it's work and shift to more relevant dates\n      // we'll set the initial date range to all of 2019.\n      setStartDate(moment([2019, 0, 1]))\n      setEndDate(moment([2019, 11, 31]))\n    },\n  }\n\n  // This function will be run on page load to initialize our viz.\n  const initViz = () => {\n    setViz(new tableau.Viz(ref.current, url, options))\n  }\n\n  // Initialize viz when the page loads\n  useEffect(initViz, [])\n\n  // This function will run with the startDate is changed\n  // update the parameter value in the workbook and update the viz\n  async function changeStartDateParameterValue(startDate) {\n    let startYear, startMonth, startDay\n\n    if (startDate === null) {\n      startYear = 2016\n      startMonth = 0\n      startDay = 1\n    } else {\n      startYear = startDate._d.getUTCFullYear()\n      startMonth = startDate._d.getUTCMonth()\n      startDay = startDate._d.getUTCDate()\n    }\n\n    if (viz !== null) {\n      const workbook = viz.getWorkbook()\n\n      workbook.changeParameterValueAsync(\n        \"Start Date\",\n        new Date(Date.UTC(startYear, startMonth, startDay))\n      )\n    } else {\n      console.log(\"We don't have a viz yet\")\n    }\n  }\n\n  // This hook is listening to the startDate prop. When it's changed the\n  // changeStartDateParameterValue function will run with the new startDate\n  useEffect(() => {\n    changeStartDateParameterValue(startDate)\n  }, [startDate])\n\n  // This function will run with the endDate is changed\n  // update the parameter value in the workbook and update the viz\n  async function changeEndDateParameterValue(endDate) {\n    let endYear, endMonth, endDay\n\n    if (endDate === null) {\n      endYear = 2019\n      endMonth = 11\n      endDay = 31\n    } else {\n      endYear = endDate._d.getUTCFullYear()\n      endMonth = endDate._d.getUTCMonth()\n      endDay = endDate._d.getUTCDate()\n    }\n\n    if (viz !== null) {\n      const workbook = viz.getWorkbook()\n\n      workbook.changeParameterValueAsync(\n        \"End Date\",\n        new Date(Date.UTC(endYear, endMonth, endDay))\n      )\n    } else {\n      console.log(\"We don't have a viz yet\")\n    }\n  }\n\n  // This hook is listening to the endDate prop. When it's changed the\n  // changeendDateParameterValue function will run with the new endDate\n  useEffect(() => {\n    changeEndDateParameterValue(endDate)\n  }, [endDate])\n\n  return <div ref={ref} />\n}\n",["19","20"],"/Users/robcrock/Documents/dev/github/tableau/date-picker/src/index.js",[],{"ruleId":"21","severity":1,"message":"22","line":33,"column":22,"nodeType":"23","endLine":33,"endColumn":24,"suggestions":"24"},{"ruleId":"21","severity":1,"message":"25","line":66,"column":6,"nodeType":"23","endLine":66,"endColumn":17,"suggestions":"26"},{"ruleId":"21","severity":1,"message":"27","line":99,"column":6,"nodeType":"23","endLine":99,"endColumn":15,"suggestions":"28"},{"ruleId":"29","replacedBy":"30"},{"ruleId":"31","replacedBy":"32"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'options'. Either include it or remove the dependency array.","ArrayExpression",["33"],"React Hook useEffect has a missing dependency: 'changeStartDateParameterValue'. Either include it or remove the dependency array.",["34"],"React Hook useEffect has a missing dependency: 'changeEndDateParameterValue'. Either include it or remove the dependency array.",["35"],"no-native-reassign",["36"],"no-negated-in-lhs",["37"],{"desc":"38","fix":"39"},{"desc":"40","fix":"41"},{"desc":"42","fix":"43"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [options]",{"range":"44","text":"45"},"Update the dependencies array to be: [changeStartDateParameterValue, startDate]",{"range":"46","text":"47"},"Update the dependencies array to be: [changeEndDateParameterValue, endDate]",{"range":"48","text":"49"},[1053,1055],"[options]",[2020,2031],"[changeStartDateParameterValue, startDate]",[2948,2957],"[changeEndDateParameterValue, endDate]"]